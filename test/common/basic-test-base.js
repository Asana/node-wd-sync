// Generated by CoffeeScript 1.3.3
(function() {
  var Wd, should, testCurrent, testWithBrowser, wd, _ref;

  _ref = require('../../index'), wd = _ref.wd, Wd = _ref.Wd;

  should = require('should');

  testWithBrowser = function(type, browserName) {
    return it((browserName != null ? "using " + browserName : "without passing browser"), function(done) {
      var browser;
      browser = null;
      switch (type) {
        case 'remote':
          browser = wd.remote();
          break;
        case 'headless':
          browser = wd.headless();
      }
      return Wd({
        "with": browser
      }, function() {
        var caps, queryField;
        should.exist(this.status());
        if (browserName != null) {
          this.init({
            browserName: "" + browserName
          });
        } else {
          this.init();
        }
        caps = this.sessionCapabilities();
        should.exist(caps);
        if (browserName != null) {
          should.exist(caps.browserName);
        }
        this.get("http://saucelabs.com/test/guinea-pig");
        this.title().toLowerCase().should.include('sauce labs');
        queryField = this.elementById('i_am_a_textbox');
        this.type(queryField, "Hello World");
        this.type(queryField, "\n");
        this.quit();
        return done();
      });
    });
  };

  testCurrent = function(type) {
    return it("browsing with using wd.current()", function(done) {
      var browser, myOwnTitle;
      browser = null;
      switch (type) {
        case 'remote':
          browser = wd.remote();
          break;
        case 'headless':
          browser = wd.headless();
      }
      myOwnTitle = function() {
        return wd.current().title();
      };
      return Wd({
        "with": browser
      }, function() {
        if (typeof browserName !== "undefined" && browserName !== null) {
          this.init({
            browserName: "" + browserName
          });
        } else {
          this.init();
        }
        this.get("http://saucelabs.com/test/guinea-pig");
        myOwnTitle().toLowerCase().should.include('sauce labs');
        this.quit();
        return done();
      });
    });
  };

  exports.testWithBrowser = testWithBrowser;

  exports.testCurrent = testCurrent;

}).call(this);
